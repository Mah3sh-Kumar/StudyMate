# ü§ñ Android Build Guide

## ‚úÖ Android Build Readiness Checklist

Your StudyMate app is now configured for Android builds. Here's what was set up:

### 1. **TypeScript Configuration Fixed**
- Changed `moduleResolution` from `"node"` to `"bundler"`
- This fixes the `customConditions` error
- Compatible with Expo/Metro bundler

### 2. **Android Configuration Added**
- **Package Name**: `com.studymate.app` (change this to your unique package name)
- **Version Code**: `1` (increment for each Play Store release)
- **Permissions**: All required permissions configured
- **Adaptive Icon**: Configured with your icon

### 3. **Required Permissions**
The following permissions are configured:
- `RECORD_AUDIO` - For voice control features
- `CAMERA` - For image picker
- `READ_EXTERNAL_STORAGE` - For file/document access
- `WRITE_EXTERNAL_STORAGE` - For saving files
- `INTERNET` - For API calls and database
- `ACCESS_NETWORK_STATE` - For network status checks

---

## üöÄ Building for Android

### Option 1: Development Build (Local)
```bash
# Prebuild native Android project
npm run prebuild:android

# Build and run release version locally
npm run build:android:local
```

### Option 2: EAS Build (Recommended for Production)
```bash
# Install EAS CLI if not already installed
npm install -g eas-cli

# Login to Expo account
eas login

# Configure EAS (first time only)
eas build:configure

# Build Android APK/AAB
npm run build:android
```

### Option 3: Expo Go (Development Only)
```bash
# Start development server
npm start

# Press 'a' to open on Android device/emulator
```

---

## üì¶ Before Publishing to Play Store

### 1. Update Package Name
Change the package name in `app.json` to your unique identifier:
```json
"package": "com.yourcompany.studymate"
```

**Important**: Package names must be unique and cannot be changed after publishing.

### 2. Update Version
Before each release, update:
- `version` in `app.json` (e.g., "1.0.1")
- `versionCode` in `app.json` (increment by 1, e.g., 2, 3, 4...)

### 3. Generate Signing Key (Production)
```bash
# Generate keystore
keytool -genkeypair -v -storetype PKCS12 -keystore studymate-release-key.keystore -alias studymate-key-alias -keyalg RSA -keysize 2048 -validity 10000

# Configure in app.json or use EAS credentials
```

### 4. Test on Real Device
Always test on a real Android device before publishing:
```bash
npm run android
```

---

## üîß Build Configuration

### Minimum Requirements
- **Min SDK**: 21 (Android 5.0) - Set automatically by Expo
- **Target SDK**: 34 (Android 14) - Set automatically by Expo
- **Compile SDK**: 34 - Set automatically by Expo

### App Bundle vs APK
- **AAB (App Bundle)**: Required for Google Play Store (recommended)
- **APK**: For direct distribution or testing

---

## üêõ Troubleshooting

### "Build failed" errors
1. Clear cache: `npx expo start -c`
2. Clean build: `cd android && ./gradlew clean && cd ..`
3. Reinstall dependencies: `rm -rf node_modules && npm install`

### "Package name already exists"
- Change package name in `app.json` to something unique
- Format: `com.yourcompany.appname`

### "Permission denied" errors
- Check that permissions are correctly listed in `app.json`
- Verify AndroidManifest.xml (auto-generated by Expo)

### "Version code must be incremented"
- Increment `versionCode` in `app.json` for each new build

---

## üì± Testing Checklist

Before publishing, test:
- [ ] App installs and launches correctly
- [ ] All permissions work (camera, microphone, storage)
- [ ] Voice control features work
- [ ] File picker works
- [ ] Network requests succeed
- [ ] Database connections work
- [ ] All screens render correctly
- [ ] Navigation works smoothly
- [ ] No crashes on common user flows

---

## üéØ Next Steps

1. **Test locally**: `npm run android`
2. **Create EAS account**: https://expo.dev
3. **Configure build**: `eas build:configure`
4. **Build for testing**: `eas build --platform android --profile preview`
5. **Build for production**: `eas build --platform android --profile production`

---

**Your app is now ready for Android builds! üéâ**

